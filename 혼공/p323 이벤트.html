<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>이벤트 설정하기</title>
  </head>
  <style>
    h1 {
      user-select: none;
      /* 해당 태그를 마우스로 드래그 못함 */
    }
  </style>
  <body>
    <h1>클릭 횟수 : 0</h1>
    <button id="connect">이벤트 연결</button>
    <button id="disconnect">이벤트 해제</button>
    <p>이벤트 연결 상태</p>
    <script>
      //이밴트 연결
      //문서객체.addEventListener(이벤트 이름, 콜백함수(=이벤트리스너,핸들러))

      let counter = 0;
      let isConnect = false;
      const h1 = document.querySelector("h1");
      h1.style.backgroundColor = "yellowgreen";
      const p = document.querySelector("p");
      const connectButton = document.querySelector("#connect");
      const disconnectButton = document.querySelector("#disconnect");

      const listener = (event) => {
        h1.textContent = `클릭 횟수: ${counter++}`;
        // h1.style.backgroundColor = "green";
      };

      connectButton.addEventListener("click", () => {
        if (isConnect === false) {
          h1.addEventListener("click", listener);
          p.textContent = "이벤트 연결 상태 : 연결";
          p.style.backgroundColor = "blue";
          p.style.color = "white";
          isConnect = true;
        }
      });
      disconnectButton.addEventListener("click", () => {
        if (isConnect === true) {
          h1.removeEventListener("click", listener);
          p.textContent = "이벤트 연결 상태: 해제";
          p.style.backgroundColor = "orange";
          p.style.color = "white";
          isConnect = false;
        }
      });

      //이벤트 제거
      //객체.removeEventListener(이벤트 이름,이벤트 리스너)
      //=>이벤트 이름을 넘겨줘야 하므로 이벤트를 변수에 저장해야 함
    </script>
  </body>
</html>
